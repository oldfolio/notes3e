<!DOCTYPE html>
<html>

<head>
<link href='nice.css' rel='stylesheet' type='text/css'>
<link rel="shortcut icon" href="favicon.ico" />
<meta charset="utf-8">
<title>Notes: CLI</title>
</head>

<body>
<h1>Command Line Notes</h1>
<h3>7-ZIP</h3>
<pre>
7za a -mhe=on -p archive-name.7z original-file
</pre>
<p>a = add to archive<br />
-mhe=on = encrypt headers as well as data<br />
-p = prompt for password</p>
<p>You can also add the switch</p>
<pre>
-mx0
</pre>
<p>if you do not wish to do any compressing.</p>
<h3>APT</h3>
<pre>
apt-get --no-install-recommends install package-name
</pre>
<h3>CD</h3>
<p>To return to the directory that you just left:</p>
<pre>
cd -
</pre>
<h3>CHMOD</h3>
<p>Recursively remove executable bit from files, while omitting directories:</p>
<pre>
chmod -R -x+X target/
</pre>
<p>The capital "X" sets the executable bit on directories only.</p>
<h3>DATE</h3>
<p>FreeBSD: Set the date to 5:05 pm, January 21, 2018</p>
<pre>
date 201801211705
     yyyymmddhhmm
</pre>
<p>If you only need to change the hours and minutes</p>
<pre>
date 1705
</pre>
<p>will change the time to 5:05 pm and leave the date unchanged.</p>
<p>TOTP codes regenerate every thirty seconds, starting at 0 and 30. To display the current second:</p>
<pre>
date +%S
</pre>
<p>You could also run a simple script that returns the number of seconds until the TOTP code is regenerated:</p>
<pre>
#!/bin/sh
SEC=$( date +%S )
TL1=$((30-$SEC))
TL2=$((60-$SEC))

if [ $TL2 -ge 30 ]; then
 expr $TL1
 else
 expr $TL2
 fi
</pre>
<p>If you want to get even fancier, <a href="dot/totp-tl.sh.txt">the following script</a> will print the seconds in <span style="color:red">red</span> if you have fewer than ten seconds left before the TOTP code regenerates:</p>
<pre>
#!/bin/sh
SEC=$( date +%S )
TL1=$((30-$SEC))
TL2=$((60-$SEC))

if [ $TL2 -ge 30 ]; then
 TL=$TL1
 else
 TL=$TL2
 fi

RED="\033[1;31m"
NOCOLOR="\033[0m"

if [ $TL -ge 10 ]; then
 echo $TL
 else
 echo "${RED}$TL${NOCOLOR}"
 fi
</pre>
<h3>DD</h3>
<p>Overwrite with zeroes a 133 byte file:</p>
<pre>
dd if=/dev/zero of=filename count=1 bs=133
</pre>
<p>Overwrite with zeroes a 1 MB byte file:</p>
<pre>
dd if=/dev/zero of=storage-bin count=1K bs=1024
</pre>
<p>Overwrite with zeroes a 1 GB byte file:</p>
<pre>
dd status=progress if=/dev/zero of=storage-bin count=1024K bs=1024
dd status=progress if=/dev/zero of=storage-bin count=1M bs=1024
</pre>
<p>On my home system, /dev/zero can be used to generate a 10G file in about 45 seconds. By contrast, /dev/urandom will take about three minutes. Do not even bother with /dev/random.</p>
<h3>DIG</h3>
<p>Check the mx record for yandex.com at the name server dns1.yandex.net:</p>
<pre>
dig @dns1.yandex.net yandex.com mx
</pre>
<p>Check all record types in a zone:</p>
<pre>
dig yandex.com any
</pre>
<p>Note that an increasing number of authoritative DNS servers reject requests for type <strong>any</strong>. See bullet point 10 <a href="https://www.rootusers.com/12-dig-command-examples-to-query-dns-in-linux/" rel="nofollow" target="_blank">here</a>.</p>
<p>On Debian-based systems <strong>dig</strong> is supplied by the package <strong>dnsutils</strong>, on FreeBSD by <strong>bind-tools</strong>.</p>
<h3>DMIDECODE</h3>
<p>Displays hardware information. Must be run as root. See <a href="https://www.howtoforge.com/dmidecode-finding-out-hardware-details-without-opening-the-computer-case">this guide</a>.</p>
<p>To display memory information:</p>
<pre>
dmidecode -t memory
</pre>
<h3>DPKG</h3>
<p>List installed packages:</p>
<pre>
dpkg --get-selections
</pre>
<p>Show the status of package, PACKAGE:</p>
<pre>
dpkg-query --status PACKAGE
</pre>
<h3>DU</h3>
<pre>
du -h --max-depth=1
</pre>
<h3><a href="http://duplicity.nongnu.org/" rel="nofollow" target="_blank">DUPLICITY</a></h3>
<p>Backup files in directory “source” to a remote server. The first time duplicity runs it will do a full backup. Subsequently, it will do an incremental backup of changes.</p>
<pre>
duplicity --encrypt-key gpg-key /home/user/source sftp://host//home/user/target

duplicity --encrypt-key gpg-key /home/user/source file:///home/user/local-target

duplicity restore sftp://host//home/user/backup /home/user/local-restore-directory
</pre>
<p>On incremental backups, some versions of duplicity will return the following error message related to GnuPG:</p>
<pre>
Error processing remote manifest
</pre>
<p>This is a known and benign error message that does not indicate any failures in the backup.</p>
<h3>ELINKS</h3>
<p>If you enable one of the color modes, then [shift]-5 will cycle through the color schemes for that mode.</p>
<p>You can toggle the numbering of hyperlinks with the period "."</p>
<h3>EMACS</h3>
<p>My Emacs notes have <a href="emacs.html">their own page</a>.</p>
<h3>FALLOCATE</h3>
<p>fallocate: Preallocate or deallocate space to a file</p>
<p>This command can be used to create large files faster than dd. To create an empty 1 MB file:</p>
<pre>
fallocate -l 1M filename
</pre>
<p>The -l switch specifies the size. K=kilobytes. M=Megabytes. G=Gigabytes. The default is bytes. More specifically, M = 1024*1024 bytes but MB = 1000*1000.</p>
<h3>FD / FDFIND</h3>
<p>A much more user-friendly version of the traditional "find" command. Debian has renamed the upstream binary from "fd" to "fdfind" but this change is not mentioned in the Debian man page, which is still located at "man fd".</p>
<h3>GIT</h3>
<p>Create a local directory for git repositories. Then, in that directory, retrieve the remote repository that you wish to work on locally:</p>
<pre>
git clone git@github.com:oldfolio/notes2e.git
</pre>
<p>Note that the above command presupposes that you have added an SSH key to your GitHub acount. Over time, your local folder can grow quite large with the record of changes that git keeps in the .git directory. One solution is to run the above command in a new folder and use the new smaller folder as your working directory.</p>
<p>Edit locally whatever files you wish to change. To update the remote repository:</p>
<pre>
git diff (optional, to see changes)
git add -u # This adds all files that have been updated.
git add .  # This adds all files in current directory, i.e.
           # untracked files will become tracked files.
git commit (or git commit -am "Update message")
git push
</pre>
<p>Add a new file:</p>
<pre>
git add FILENAME
</pre>
<p>To host a static site at Github pages, create a repository for the site. In the root directory for the site, place a text file named CNAME. The content of the CNAME file should simply be the domain name you wish to use for the site, e.g. notes.oldfolio.org. Then create a CNAME record at your domain’s DNS host that points to USERNAME.github.io:</p>
<pre>
notes 300 IN CNAME oldfolio.github.io.
</pre>
<p>You can then check the Enforce HTTPS option in your repository’s settings.</p>
<p>To check the status of your repository:</p>
<pre>
git status
</pre>
<p>When you are away from your local folder you can still edit your site by logging into Github and editing files there. You would just need to remember to pull those changes into your local folder with</p>
<pre>
git pull [origin master]
</pre>
<h3>GNUPG</h3>
<p>Simple symmetric file encryption:</p>
<pre>
gpg -c --cipher-algo blowfish filename.txt
</pre>
<p>Encrypt to a specific user/recipient:</p>
<pre>
gpg -e -r USER file.txt
</pre>
<p>Create a detached, ascii-enarmored signature specifying which key to use:</p>
<pre>
gpg -u key-to-use -a --output file.sig --detach-sig file.txt
</pre>
<p>Create a non-detached, ascii-enarmored signature specifying which key to use:</p>
<pre>
gpg -u key-to-use --clearsign file.txt
</pre>
<p>Verify detached signature:</p>
<pre>
gpg --verify signature.sig signed-file.txt
</pre>
<p>Export public key:</p>
<pre>
gpg -a --export {key-identifier} > public-key.asc
</pre>
<p>Export secret/private key:</p>
<pre>
gpg -a --export-secret-keys {key-identifier}  > secret-key.asc
</pre>
<p>If you should ever need to edit your ~/.gnupg/<a href="dot/gpg-agent.conf.txt">gpg-agent.conf</a> file, you will need to reload the gpg-agent once you are finished editing.</p>
<pre>
$ gpg-connect-agent reloadagent /bye
</pre>
<p>Use extreme caution if you change the gpg-agent to pinentry-curses. Doing so breaks the graphical version of Emacs, and I have not yet found a work-around. If you will be working remotely with GnuPG encrypted files, you may need to set the agent to pinentry-curses. (See the dot file above.) Otherwise, the gpg-agent will expect a graphical environment -- and fail when one is not present.</p>
<h3>HTML ESCAPE SEQUENCES</h3>
<pre>
&amp;amp; will display &amp;
&amp;lt; will display &lt;
&amp;gt; will display &gt;
</pre>
<p>You might also find this useful;</p>
<pre>
&lt;p&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="" rel="nofollow" target="_blank"&gt;&lt;/a&gt;&lt;/p&gt;
</pre>
<p>Be sure not to overlook the &lt;q&gt; &lt;/q&gt; tag, which adds curly quotation marks as demonstrated <q>here</q>.</p>
<h3>JOURNALCTL</h3>
<p>If the systemd journal is growing too large, you can reduce the space used in the following way:</p>
<pre>
journalctl --rotate
journalctl --vacuum-size=100M
</pre>
<p>The <strong>rotate</strong> flag archives all the currently active journal files, and the <strong>vacuum-size</strong> flag removes all but the most recent 100M of archived journal files.</p>
<h3>LN</h3>
<pre>
ln -s target-file link-name
</pre>
<h3>LOSETUP</h3>
<pre>
# losetup -a # List the status of all loop devices
# losetup /dev/loop0 filename # Associate loop device 0 with file filename
# losetup -d /dev/loop0 # Detach loop device
</pre>
<h3>NAMEBENCH</h3>
<p>Send 128 queries to only the nameservers specified:</p>
<pre>
namebench -q 128 -O 208.67.222.222, 1.1.1.1, 8.8.8.8
</pre>
<h3>NETHACK</h3>
<p>Some nethack commands:</p>
<pre>
@ = toggle autopickup
d = drop
i = open inventory
r = read (as in read a spellbook)
t = throw (as in throw a dagger)
w = wield weapon
f = fire arrows in quiver using wielded bow
Q = place arrows in quiver
S = save your game and exit
P = put on (as in put on a ring)
R = remove (as in remove a ring)
W = wear armor or shield
T = take off armor or shield
Z = cast a spell
^d = bash (as in bash a door)
#chat = talk to another character
#loot = open a container
#force = attempt to open a locked container
#untrap = rescue pet from pit
</pre>
<p>Possible ~/.nethackrc</p>
<pre>
OPTIONS=color,time,hilite_pet,menucolors,!autopickup,role=valkyrie,race=human
#OPTIONS=color,time,role=wizard,race=elf,gender=female
</pre>
<h3>NETSTAT</h3>
<p>To see which TCP ports are open on your server:</p>
<pre>
netstat -ant
</pre>
<p>See, also, <strong>ss</strong> below.</p>
<h3>OPENSSL</h3>
<p>You can use openssl for simple file encryption:</p>
<pre>
openssl enc -blowfish -a -iter 12 -in filename.txt -out filename.enc
</pre>
<p>To decrypt the output file from the above example:</p>
<pre>
openssl enc -d -blowfish -a -iter 12 -in filename.enc -out filename.txt
</pre>
<p>For decryption, notice the addition of the -d switch and the reversal of the input and output filenames. Also, notice that <strong>all</strong> of the other options are included. Omitting any of those options will yield a failure to decrypt.</p>
<p>Some ciphers that you can use <a href="dot/openssl-ciphers.txt">here</a>.</p>
<h3>PASS: UNIX PASSWORD-STORE</h3>
<p>Install under Debian:</p>
<pre>
apt-get install pass-extension-otp
</pre>
<p>The above command will install the OTP extension as well as the base password-store utility.</p>
<p>Specify password-store directory in ~/.profile or ~/.mkshrc, etc.</p>
<pre>
PASSWORD_STORE_DIR=/path/to/directory
export PASSWORD_STORE_DIR
</pre>
<p>Create a new password-store database:</p>
<pre>
pass init [email-address-associated-with-GPG-key]
</pre>
<p>Enter a new account in the password-store:</p>
<pre>
pass insert -m Account-Name [or]
pass insert -m Folder/Account-Name
</pre>
<p>Edit the information for an account that already exists in the password-store:</p>
<pre>
pass edit Account-Name
</pre>
<p>Show account information:</p>
<pre>
pass show Account-Name
</pre>
<p>Add a TOTP secret key to an account:</p>
<pre>
pass otp append Account-Name
</pre>
<p>When prompted enter a key URI of the form:</p>
<pre>
otpauth://totp/acct-name?secret=SECRET-KEY
</pre>
<p>You could also just add the above URI string to the password-store entry using the <strong>pass edit Account-Name</strong> command.</p>
<p>Print the current TOTP code:</p>
<pre>
pass otp code Account-Name
</pre>
<p>Remove an entry from the password-store:</p>
<pre>
pass rm Account-Name [or]
pass rm -r Folder [to delete entire folder]
</pre>
<h3><p><a href="https://rclone.org/" rel="nofollow" target="_blank">RCLONE</a></p></h3>
<p>Use rclone to sunchronize local files/folders with a Backblaze B2 bucket. On your home PC you should also install the Debian backblaze-b2 utility in order to manage your Backblaze buckets and account.<p>
<pre>
$ b2 create_bucket File-Cabinet-Master allPrivate
$ rclone config # to set up or edit the configuration of remote storage
$ rclone --progress sync /home/mm/File-Cabinet-Master b2_cabinet:File-Cabinet-Master
$ rclone --progress sync b2_cabinet:File-Cabinet-Master scw_cabinet:file-cabinet
$ rclone size b2_cabinet:File-Cabinet-Master
</pre>
<p>When synchronizing to an S2 bucket, you may want to add the --size-only flag in order to reduce the number of requests to the remote server.</p>
<pre>
rclone sync --progress --size-only /home/mm/File-Cabinet-Master scw_cabinet:file-cabinet
</pre>
<p>In addition to commercial remote services, you can also use rclone to synchronize over sftp to one of your own servers.</p>
<pre>
rclone --progress sync /home/mm/File-Cabinet-Master cedar_ssh:/home/mm/File-Cabinet-Master
</pre>
<p>When you set up a Backblaze B2 account as an rclone remote resource, you will need to use an application key.</p>
<p>The above set of instructions allow you to synchronize using a local directory as the source and a B2 bucket as the destination. If you wish to reverse that and use the B2 bucket as the source and a local directory as the destination, then use the b2 tool:</p>
<pre>
$ b2 sync --dryRun --threads 1 b2://File-Cabinet-Master/ /home/mm/File-Cabinet-Master
</pre>
<p>The default number of threads is 10. I use only one to avoid annoying others in my household who are also using the network.</p>
<h5>Some rclone examples</h5>
<p>Copy a single file to a target directory:</p>
<pre>
rclone copy FILENAME remote:directory/ 
</pre>
<p>Notice the <strong>trailing slash</strong> following the target directory.</p>
<p>If you wish to rename a file when you copy it, then you would use the <strong>copyto</strong> command:</p>
<pre>
rclone copyto FILENAME remote:directory/NEW-FILENAME
</pre>
<p>To mount a remote resource onto your filesystem:</p>
<pre>
rclone mount --vfs-cache-mode full remote: /local/mount/directory
</pre>
<p>You need the <strong>--vfs-cache-mode full</strong> in order to have full read-write access to the remote resource.</p>
<p>To <strong>check</strong> if the source and the destination are the same
without making any changes in either, run:</p>
<pre>
rclone check [--size-only] source/directory scw_cabinet:
</pre>
<p>If you wish to <strong>exclude</strong> a directory (such as, /source-directory/ignore-this-directory/) from a sync operation, you would  use a construction like the following:</p>
<pre>
rclone sync -P --exclude "/ignore-this-directory/**" /source-directory remote:target-directory
</pre>
<p>You need the double asterisk following the ignored directory in order to ignore subdirectories as well as the primary ignored directory. A single asterisk ignores all the files in the ignored directory but does not ignore subdirectories.</p>
<h3><a href="http://rsync.samba.org/examples.html" rel="nofollow" target="_blank">RSYNC</a></h3>
<pre>
rsync -avuP --delete source-directory/ host:/destination-directory
</pre>
<p>Notice that the source directory HAS a trailing slash, but that the destination directory does NOT have a trailing slash.</p>
<p>Hetzner storage boxes only recognize <em>relative</em> paths. So, your rsync command will need to look something like:</p>
<pre>
rsync -avuP --delete local-directory/ hetzner:./directory
                                              ^
                                      notice the dot
</pre>
<p>Synchronize a single file:</p>
<pre>
rsync -avuP source-directory/filename host:/destination-directory/
                                                                 ^
</pre>
<p>Notice that when synchronizing a single file a trailing slash <em>*DOES*</em> follow the destination directory.</p>
<p>If you wish to <strong>exclude</strong> a directory (such as, /source-directory/ignore-this-directory/) from a sync operation, you would  use a construction like the following:</p>
<pre>
rsync -avuP --delete --exclude 'ignore-this-directory' /source-directory/ remote:/target-directory
</pre>
<h3>SECURE_DELETE (FreeBSD) / SECURE-DELETE (Debian)</h3>
<p>Overwrite with random data and delete all files and subdirectories of DIRECTORY</p>
<pre>
srm -llr DIRECTORY
</pre>
<p>Overwrite with zeroes and delete all files and subdirectories of DIRECTORY</p>
<pre>
srm -llzr DIRECTORY
</pre>
<p>Under OpenBSD, the standard <strong>rm</strong> command followed the <strong>-P</strong> switch overwrites files once with random data before deleting. Add the <strong>-R</strong> switch to remove the entire file hierarchy, including subdirectories.</p>
<h3>SMEM</h3>
<p>Report chrome or chromium total memory usage:</p>
<pre>
smem -t -k -c pss -P chrom | tail -n 1
</pre>
<p>Report dropbox total memory usage:</p>
<pre>
smem -t -k -c pss -P dropb | tail -n 1
</pre>
<p>Report firefox total memory usage:</p>
<pre>
smem -t -k -c pss -P firef | tail -n 1
</pre>
<p>Report opera total memory usage:</p>
<pre>
smem -t -k -c pss -P opera | tail -n 1
</pre>
<p>Report yandex browser total memory usage:</p>
<pre>
smem -t -k -c pss -P yandex_b | tail -n 1
</pre>
<p>Report yandex disk total memory usage:</p>
<pre>
smem -t -k -c pss -P yandex-d | tail -n 1
</pre>
<p>Report vivaldi total memory usage:</p>
<pre>
smem -t -k -c pss -P vivaldi | tail -n 1
</pre>
<h3>SS</h3>
<p>The ss command is a successor to netstat. (See <strong>netstat</strong> above.) As long as netstat is available it is still a useful tool.</p>
<pre>
ss -at
</pre>
<h3>SSH</h3>
<p>Creating an SSH tunnel:</p>
<pre>
ssh -D 5222 remote-server -N

-D = bind port
-N = do not execute a remote command
</pre>
<p>To use with the Chromium browser:</p>
<pre>
chromium --proxy-server=socks5://localhost:5222
</pre>
<p>To use with Firefox, Pale Moon, etc.:</p>
<pre>
Preferences -&gt; Advanced -&gt; Network -&gt; Connection -&gt; Settings

Manual proxy configuration

SOCKS Host: 127.0.0.1 Port: 5222

No Proxy for:
localhost, 127.0.0.1
</pre>
<h3>SSHFS</h3>
<p>If you install sshfs, you can mount your remote servers as an ordinary user. Use the mount options uid and gid so that the remote directory will belong to the local user.</p>
<pre>
$ sshfs server-nickname:/home/username /local/mountpoint -o uid=1000,gid=1000
</pre>
<p>To unmount:</p>
<pre>
$ fusermount -u /local/mountpoint
</pre>
<h3>SYSCTL</h3>
<p>Report hardware information on FreeBSD systems:</p>
<pre>
# sysctl hw.model hw.machine hw.ncpu
</pre>
<h3>TAR</h3>
<p>To archive your /etc and /home directories:</p>
<pre>
# tar cvf /root/etc-home.tar /etc /home
</pre>
<p>To create an archive that excludes some files in the target:</p>
<pre>
tar cvf ~/archive.tar --exclude='excluded-directory/*' *
</pre>
<p>To list the files in an archive:</p>
<pre>
tar tvf archive.tar
</pre>
<p>The output of listing an archive's contents will look something like:</p>
<pre>
-rw-r--r-- user/group          1567 2019-12-12 10:50 ./file1.txt
-rw-r--r-- user/group          1997 2019-12-12 10:50 ./file2.txt
</pre>
<p>You can <strong>remove</strong> an unwanted file from an archive in the following way:</p>
<pre>
tar --delete -f archive.tar ./file2.txt
</pre>
<p>where file2.txt is the unwanted file. You should note though that the --delete switch <strong>will not work</strong> on compressed archives.</p>
<p>Compression:</p>
<ul>
  <li>bzip2 = j</li>
  <li>gzip = z</li>
  <li>xz = J</li>
</ul>
<p>Create an archive with a time stamp in the archive name:</p>
<pre>
suffix=`date +%F-%H.%M`
tar cvf /home/user/archive-$suffix.tar /path/to/target-directory/
</pre>
<h3>TMUX</h3>
<p>Ctrl-b to enter commands</p>
<p>Detach the current session:</p>
<pre>
Ctrl-b d
</pre>
<p>Re-attach a previous session:</p>
<pre>
tmux attach -t 0
</pre>
<p>where "0" is the name of the previous session.</p>
<p>A <a href="https://www.ocf.berkeley.edu/~ckuehl/tmux/" rel="nofollow" target="_blank">tmux beginner's guide</a>.</p>
<p>A <a href="https://tmuxcheatsheet.com/" rel="nofollow" target="_blank">tmux cheat sheet</a>.</p>
<h3><a href="https://linux.die.net/man/8/usermod" rel="nofollow" target="_blank">USERMOD</a></h3>
<p>To change a user's primary login group:</p>
<pre>
usermod -g primarygroupname username
</pre>
<p>To add a user to a secondary group:</p>
<pre>
usermod -a -G secondarygroupname username
</pre>
<p>Using the <strong>-G</strong> switch without the <strong>-a</strong> switch will remove a user from all secondary groups except those specified by the current instance of the <strong>-G</strong> switch.</p>
<p>Change a user's username:</p>
<pre>
usermod --login new-user-name --move-home --home /home/new-home-directory old-user-name
</pre>
<p>When you change a user's username you will likely also want to change the name of the user's primary group:</p>
<pre>
groupmod --new-name new-group-name old-group-name
</pre>
<p>In most cases, the new-group-name will be the same as the new-user-name, and the old-group-name will be the same as the old-user-name.</p>
<h3>VIM</h3>
<p>Find each occurrence of 'foo' and replace it with 'bar':</p>
<pre>
:%s/foo/bar/g
</pre>
<p>When you need vim to behave like traditional vi:</p>
<pre>
vim -u NONE -C
</pre>
<p>The -u switch specifies which vimrc file to use, with the NONE argument instructing vim not to load any vimrc initializations. The -C switch instructs vim to behave in a way that is compatible with traditional vi. The -C switch by itself does not work because without "-u NONE" vim will respect your vimrc initializations.</p>
<p>Edit a remote file:</p>
<pre>
vim scp://user@server.com:22//home/user/filename
</pre>
<p>or</p>
<pre>
:e scp://user@server.com:22//home/user/filename # OR
:e scp://SSH-Config-Host//home/user/filename # OR
:e scp://SSH-Config-Host/filename # /home/user not needed because you
                                  # are automatically logged into that
                                  # directory
</pre>
<p>Browse a remote directory:</p>
<pre>
:e scp://user@server.com:22//home/user/
:e scp://SSH-Config-Host// # Directory specification not needed if
                           # you wish to browse the directory you are
                           # initially logged into.
</pre>
<p>Prompt for an encryption key:</p>
<pre>
:X
</pre>
<p>Center text [based on a 75 character-wide line]:</p>
<pre>
:ce [75]
</pre>
<p>Set the maximum number of characters on a line to 75</p>
<pre>
set tw=75
</pre>
<p>Various editing tasks:</p>
<pre>
dd delete current line
~ switch case of characters (from CAPITALS to lower case or vice VERSA)
U MAKE ALL SELECTED CHARACTERS CAPITALS/UPPER CASE
u make all selected characters lower case
J join next line to the current one
&gt; indent selected lines
gq apply text formatting to selected region

" specify a register
"+ specify the clipboard
"+y copy to clipboard
"+d cut to clipboard
"+P paste from clipboard before cursor
"+p paste from clipbaord after cursor
</pre>
<h3>WEBDAV</h3>
<p>Install package davfs2.</p>
<p>Add user to group davfs2:</p>
<pre>
usermod -a -G davfs2 username
</pre>
<p>Create authentication file /home/user/.davfs2/secrets. Remove any "group" or
"other" permissions:</p>
<pre>
chmod go-r /home/user/.davfs2/secrets
</pre>
<p>The "secrets" file should contain the line:</p>
<pre>
/home/user/mount-point dav-user@server [password]
</pre>
<p>Create entry in /etc/fstab:</p>
<pre>
https://server.tld /home/user/mount-point davfs noauto,user,uid=1000,gid=1000 0 0
</pre>
<p>Now, the ordinary user should be able to mount the remote storage with the
command:</p>
<pre>
mount /home/user/mount-point
</pre>
<br />
<hr>
<h3>Miscellaneous</h3>
<pre>
echo 3 &gt; /proc/sys/vm/drop_caches
</pre>
<p>Do a searchon "drop_caches" for additional information, including the differences between echo 1, echo 2, and echo 3.</p>
<h3>File Size Comparison</h3>
<p>I keep all of my notes in a very large text file. Here is a size comparison of the notes in different formats (October 2018):</p>
<pre>
RAW TEXT  2708583 bytes (100.00%)
DOCX      1254433 bytes ( 46.31%)
ODT       1103976 bytes ( 40.76%)
GZ TEXT   1040337 bytes ( 38.41%)
XZ TEXT    796340 bytes ( 29.40%)
BZ2 TEXT   763485 bytes ( 28.19%)
</pre>
<h3>Browser Memory Usage</h3>
<p>PSS as reported by smem under my test scenario, January 19, 2021:</p>
<pre>
Chromium: 360M
Firefox:  520M
Palemoon: 180M
Vivaldi:  210M
</pre>
<h3>Shell Notes</h3>
<p>Memory usage reported by htop for different shells:</p>
<p>FREEBSD 11.3</p>
<pre>
bash  7840  3956
csh   7412  3800
ksh93 8232  4196
mksh  6608  2692
sh    7068  3064
tcsh  7412  3804
</pre>
<p>DEBIAN 10.1</p>
<pre>
bash  7599  4236
dash  2388   700
lksh   616   356
mksh  3164  2144 (non-static)
mksh   848   580 (static)
tcsh  6656  3288
</pre>
<h3>Ping Speed</h3>
<p>Average ping speed from home to servers December 2020.</p>
<pre>
almond:  26.698
birch:  155.023
cedar:   45.158
elm:     47.287
fir:     27.191
larch:   45.240  
teak:    65.452

SD:      48.601
</pre>
<p>Average ping speed from home to servers July 2020.</p>
<pre>
birch:  153.272
cedar:   71.759
fir:     34.283
larch:   92.014
pine:   145.663

SD:      44.081
</pre>
</body>

</html>
